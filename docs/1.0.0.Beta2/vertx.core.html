<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>vertx.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Vert.x clojure language module  API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="vertx.buffer.html"><span>vertx.buffer</span></a></li><li class="current"><a href="vertx.core.html"><span>vertx.core</span></a></li><li><a href="vertx.datagram.html"><span>vertx.datagram</span></a></li><li><a href="vertx.dns.html"><span>vertx.dns</span></a></li><li><a href="vertx.embed.html"><span>vertx.embed</span></a></li><li><a href="vertx.embed.platform.html"><span>vertx.embed.platform</span></a></li><li><a href="vertx.eventbus.html"><span>vertx.eventbus</span></a></li><li><a href="vertx.filesystem.html"><span>vertx.filesystem</span></a></li><li><a href="vertx.filesystem.sync.html"><span>vertx.filesystem.sync</span></a></li><li><a href="vertx.http.html"><span>vertx.http</span></a></li><li><a href="vertx.http.route.html"><span>vertx.http.route</span></a></li><li><a href="vertx.http.sockjs.html"><span>vertx.http.sockjs</span></a></li><li><a href="vertx.http.websocket.html"><span>vertx.http.websocket</span></a></li><li><a href="vertx.logging.html"><span>vertx.logging</span></a></li><li><a href="vertx.net.html"><span>vertx.net</span></a></li><li><a href="vertx.repl.html"><span>vertx.repl</span></a></li><li><a href="vertx.shareddata.html"><span>vertx.shareddata</span></a></li><li><a href="vertx.stream.html"><span>vertx.stream</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="vertx.core.html#var-*container*"><span class="">*container*</span></a></li><li><a href="vertx.core.html#var-*vertx*"><span class="">*vertx*</span></a></li><li><a href="vertx.core.html#var-as-async-result-handler"><span class="">as-async-result-handler</span></a></li><li><a href="vertx.core.html#var-as-handler"><span class="">as-handler</span></a></li><li><a href="vertx.core.html#var-as-void-handler"><span class="">as-void-handler</span></a></li><li><a href="vertx.core.html#var-cancel-timer"><span class="">cancel-timer</span></a></li><li><a href="vertx.core.html#var-config"><span class="">config</span></a></li><li><a href="vertx.core.html#var-current-context"><span class="">current-context</span></a></li><li><a href="vertx.core.html#var-defhandler"><span class="">defhandler</span></a></li><li><a href="vertx.core.html#var-deploy-module"><span class="">deploy-module</span></a></li><li><a href="vertx.core.html#var-deploy-verticle"><span class="">deploy-verticle</span></a></li><li><a href="vertx.core.html#var-deploy-worker-verticle"><span class="">deploy-worker-verticle</span></a></li><li><a href="vertx.core.html#var-env"><span class="">env</span></a></li><li><a href="vertx.core.html#var-event-loop%3F"><span class="">event-loop?</span></a></li><li><a href="vertx.core.html#var-exit"><span class="">exit</span></a></li><li><a href="vertx.core.html#var-get-container"><span class="">get-container</span></a></li><li><a href="vertx.core.html#var-get-vertx"><span class="">get-vertx</span></a></li><li><a href="vertx.core.html#var-handler"><span class="">handler</span></a></li><li><a href="vertx.core.html#var-on-stop"><span class="">on-stop</span></a></li><li><a href="vertx.core.html#var-on-stop*"><span class="">on-stop*</span></a></li><li><a href="vertx.core.html#var-periodic"><span class="">periodic</span></a></li><li><a href="vertx.core.html#var-periodic*"><span class="">periodic*</span></a></li><li><a href="vertx.core.html#var-run-on-context"><span class="">run-on-context</span></a></li><li><a href="vertx.core.html#var-timer"><span class="">timer</span></a></li><li><a href="vertx.core.html#var-timer*"><span class="">timer*</span></a></li><li><a href="vertx.core.html#var-undeploy-module"><span class="">undeploy-module</span></a></li><li><a href="vertx.core.html#var-undeploy-verticle"><span class="">undeploy-verticle</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>vertx.core documentation</h2><pre class="doc">Vert.x core functionality.
</pre><div class="public " id="var-*container*"><h3>*container*</h3><h4 class="type">var</h4><div class="usage"></div><pre class="doc">The currently active default vertx container instance.
The root binding will be set on verticle deployment by Vert.x.
You should only need to bind this for advanced usage.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L31">Source</a></div></div><div class="public " id="var-*vertx*"><h3>*vertx*</h3><h4 class="type">var</h4><div class="usage"></div><pre class="doc">The currently active default vertx instance.
When inside a Vert.x container, the root binding will
be set on verticle deployment. When embeded, you will
need to either bind this when needed, or alter its
root binding by calling vertx.embed/set-vertx!.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L23">Source</a></div></div><div class="public " id="var-as-async-result-handler"><h3>as-async-result-handler</h3><div class="usage"><code>(as-async-result-handler f)</code><code>(as-async-result-handler f include-result-or-result-fn)</code></div><pre class="doc">Wraps the given fn in a org.vertx.java.core.Handler for handling an AsyncResult.
If include-result-or-result-fn is true (the default), the fn will
be passed an exception-map and the result from the AsyncResult,
otherwise just the exception-map. If include-result-or-result-fn is a
fn, it will be passed the result before passing it to the handler
fn. Returns f unmodified if it is nil or already a Handler.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L112">Source</a></div></div><div class="public " id="var-as-handler"><h3>as-handler</h3><div class="usage"><code>(as-handler f)</code><code>(as-handler f result-fn)</code></div><pre class="doc">Wraps the given single-arity f in a org.vertx.java.core.Handler.
Returns f unmodified if it is nil or already a Handler. If provided,
result-fn will be applied to the event before passing it to f.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L83">Source</a></div></div><div class="public " id="var-as-void-handler"><h3>as-void-handler</h3><div class="usage"><code>(as-void-handler f)</code></div><pre class="doc">Wraps the given fn in a Handler that ignores the event.
f is expected to be a zero-arity fn or a Handler.
Returns f unmodified if it is nil or already a Handler.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L134">Source</a></div></div><div class="public " id="var-cancel-timer"><h3>cancel-timer</h3><div class="usage"><code>(cancel-timer id)</code></div><pre class="doc">Cancels the timer specified by id using *vertx*.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L285">Source</a></div></div><div class="public " id="var-config"><h3>config</h3><div class="usage"><code>(config)</code></div><pre class="doc">Returns the configuration map from the current *container*, with the keys converted to keywords.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L143">Source</a></div></div><div class="public " id="var-current-context"><h3>current-context</h3><div class="usage"><code>(current-context)</code></div><pre class="doc">Returns the current Context for *vertx*.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L290">Source</a></div></div><div class="public " id="var-defhandler"><h3>defhandler</h3><h4 class="type">macro</h4><div class="usage"><code>(defhandler name bindings &amp; body)</code></div><pre class="doc">Creates a named (def'ed) handler.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L107">Source</a></div></div><div class="public " id="var-deploy-module"><h3>deploy-module</h3><div class="usage"><code>(deploy-module module-name &amp; {:keys [config instances handler], :or {config {}, instances 1}})</code></div><pre class="doc">Deploys the module with the given name to *container*.
Takes the following keyword arguments [default]:

:config     A configuration map for the module [{}]
:handler    Either be a two-arity fn that will be passed
            the exception-map (if any) and module id from the
            result of the deploy call, or a
            org.vertx.java.core.Handler that will be
            called with the AsyncResult object that wraps
            the exception and id [nil]
:instances  The number of instances of the module to
            deploy [1]</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L148">Source</a></div></div><div class="public " id="var-deploy-verticle"><h3>deploy-verticle</h3><div class="usage"><code>(deploy-verticle main &amp; {:keys [config instances handler], :or {config {}, instances 1}})</code></div><pre class="doc">Deploys the verticle with the given main file path to *container*.
main must be on the effective classpath.
Takes the following keyword arguments [default]:

:config     A configuration map for the verticle [{}]
:handler    Either be a two-arity fn that will be passed
            the exception (if any) and verticle id from the
            result of the deploy call, or a
            org.vertx.java.core.Handler that will be
            called with the AsyncResult object that wraps
            the exception and id [nil]
:instances  The number of instances of the verticle to
            deploy [1]</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L181">Source</a></div></div><div class="public " id="var-deploy-worker-verticle"><h3>deploy-worker-verticle</h3><div class="usage"><code>(deploy-worker-verticle main &amp; {:keys [config instances multi-threaded? handler], :or {config {}, instances 1}})</code></div><pre class="doc">Deploys the worker verticle with the given main file path to *container*.
main must be on the effective classpath.
Takes the following keyword arguments [default]:

:config           A configuration map for the verticle [{}]
:handler          Either be a two-arity fn that will be passed
                  the exception-map (if any) and verticle id from the
                  result of the deploy call, or a
                  org.vertx.java.core.Handler that will be
                  called with the AsyncResult object that wraps
                  the exception and id [nil]
:instances        The number of instances of the verticle to
                  deploy [1]
:multi-threaded?  When true, the verticle will be accessed
                  by multiple threads concurrently [false]</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L203">Source</a></div></div><div class="public " id="var-env"><h3>env</h3><div class="usage"><code>(env)</code></div><pre class="doc">Returns a map of environment variables.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L308">Source</a></div></div><div class="public " id="var-event-loop%3F"><h3>event-loop?</h3><div class="usage"><code>(event-loop?)</code></div><pre class="doc">Is the current thread an event loop thread?
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L69">Source</a></div></div><div class="public " id="var-exit"><h3>exit</h3><div class="usage"><code>(exit)</code></div><pre class="doc">Causes the Vert.x instance to shutdown.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L313">Source</a></div></div><div class="public " id="var-get-container"><h3>get-container</h3><div class="usage"><code>(get-container)</code><code>(get-container throw?)</code></div><pre class="doc">Returns the currently active vertx container instance (*container*).
If throw? is truthy, throws when the container isn't available.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L59">Source</a></div></div><div class="public " id="var-get-vertx"><h3>get-vertx</h3><div class="usage"><code>(get-vertx)</code></div><pre class="doc">Returns the currently active vertx instance (*vertx*), throwing if not set.
</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L53">Source</a></div></div><div class="public " id="var-handler"><h3>handler</h3><h4 class="type">macro</h4><div class="usage"><code>(handler bindings &amp; body)</code></div><pre class="doc">Wraps the given bindings and body in a org.vertx.java.core.Handler.
Calling (handler [foo] (bar foo)) is analogous to calling
(as-handler (fn [foo] (bar foo))).</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L99">Source</a></div></div><div class="public " id="var-on-stop"><h3>on-stop</h3><h4 class="type">macro</h4><div class="usage"><code>(on-stop &amp; body)</code></div><pre class="doc">Registers code to be called when vertx undeploys the verticle.
Can be called multiple times to register multiple bodies.
Calling (on-stop (foo)) is analogous to calling (on-stop* (fn
[] (foo))).</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L247">Source</a></div></div><div class="public " id="var-on-stop*"><h3>on-stop*</h3><div class="usage"><code>(on-stop* f)</code></div><pre class="doc">Registers a fn to be called when vertx undeploys the verticle.
Can be called multiple times to register multiple fns.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L240">Source</a></div></div><div class="public " id="var-periodic"><h3>periodic</h3><h4 class="type">macro</h4><div class="usage"><code>(periodic interval &amp; body)</code></div><pre class="doc">Invokes the body every interval ms until cancelled.
Returns the id of the timer. Calling (periodic 1 (foo)) is
analogous to calling (periodic* 1 (fn [_] (foo))).</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L278">Source</a></div></div><div class="public " id="var-periodic*"><h3>periodic*</h3><div class="usage"><code>(periodic* interval handler)</code></div><pre class="doc">Registers a handler with *vertx* to be called every interval ms until cancelled.
handler can either be a single-arity fn or an
org.vertx.java.core.Handler that will be passed the id of the
timer. Returns the id of the timer.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L270">Source</a></div></div><div class="public " id="var-run-on-context"><h3>run-on-context</h3><div class="usage"><code>(run-on-context f)</code><code>(run-on-context context f)</code></div><pre class="doc">Put the zero-arity fn on the event queue for the context so it will
be run asynchronously ASAP after this event has been processed.
If no context is provided, the context from *vertx* is used.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L295">Source</a></div></div><div class="public " id="var-timer"><h3>timer</h3><h4 class="type">macro</h4><div class="usage"><code>(timer delay &amp; body)</code></div><pre class="doc">Invokes the body in delay ms.
Returns the id of the timer. Calling (timer 1 (foo)) is analogous
to calling (timer* 1 (fn [_] (foo))).</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L263">Source</a></div></div><div class="public " id="var-timer*"><h3>timer*</h3><div class="usage"><code>(timer* delay handler)</code></div><pre class="doc">Registers a handler with *vertx* to be called once in delay ms.
handler can either be a single-arity fn or an
org.vertx.java.core.Handler that will be passed the id of the
timer. Returns the id of the timer.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L255">Source</a></div></div><div class="public " id="var-undeploy-module"><h3>undeploy-module</h3><div class="usage"><code>(undeploy-module id)</code><code>(undeploy-module id handler)</code></div><pre class="doc">Undeploys the module identified by id from *container*.
handler can either be a single-arity fn that will be passed the
exception (if any) from the result of the deploy call, or a
org.vertx.java.core.Handler that will be called with the
AsyncResult object that wraps the exception.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L169">Source</a></div></div><div class="public " id="var-undeploy-verticle"><h3>undeploy-verticle</h3><div class="usage"><code>(undeploy-verticle id)</code><code>(undeploy-verticle id handler)</code></div><pre class="doc">Undeploys the verticle identified by id from *container*.
handler can either be a single-arity fn that will be passed the
exception-map (if any) from the result of the deploy call, or a
org.vertx.java.core.Handler that will be called with the
AsyncResult object that wraps the exception.</pre><div class="src-link"><a href="https://github.com/vert-x/mod-lang-clojure/tree/master/api/src/main/clojure/vertx/core.clj#L228">Source</a></div></div></div></body></html>